{% extends "_detail.html" %}
{% load static %}
{% load humanize %}
{% block extcss %}<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.1.0/material.min.css"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/dataTables.material.min.css"/>
{% endblock %}
{% block extlibs %}<script type="text/javascript"
        src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script type="text/javascript"
        src="https://cdn.datatables.net/1.10.15/js/dataTables.material.min.js"></script>
    <script type="text/javascript"
        src="{% static "js/tablelocale.js" %}"></script>{% endblock %}
{% block title %}Tipo de Vehículo{% endblock %}
{% block page-title %}Tipo de Vehículo{% endblock %}
{% block thead %}
    <th colspan="2" class="izquierda">{{ tipodevehiculo.nombre }}{% if request.user.is_superuser %}
        <div class="ui-nodisc-icon mininav3r">
            <a class="ui-btn ui-btn-inline ui-btn-a ui-icon-edit ui-btn-icon-notext ui-btncito"
               title="Editar Tipo {{ tipodevehiculo.nombre }}" href="{{ tipodevehiculo.get_update_url }}"
               data-ajax="false" onclick="window.location.reload(false);">edit</a>
            <a class="ui-btn ui-btn-inline ui-btn-a ui-icon-plus ui-btn-icon-notext ui-btncito"
               title="Agregar Nuevo Tipo"
               href="{% url "transporte_tipodevehiculo_create" %}"
               data-ajax="false" onclick="window.location.reload(false);">add</a>
            <a class="ui-btn ui-btn-inline ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btncito"
               title="Borrar Tipo {{ tipodevehiculo.nombre }}" href="{{ tipodevehiculo.get_delete_url }}">delete</a></div>
    {% endif %}</th>
{% endblock %}
{% block tbody %}
    <tr>
        <td class="derecha">Rendimiento</td>
        <td><strong>{{ tipodevehiculo.rendimiento }} Kms/Gal</strong></td>
    </tr>
    <tr>
        <td class="derecha">Costo/Dia</td>
        <td><strong>Lps. {{ tipodevehiculo.costo_por_dia|intcomma }}</strong></td>
    </tr>
    <tr>
        <td class="derecha">Costo/Km</td>
        <td><strong>Lps. {{ tipodevehiculo.costo_por_km }}</strong></td>
    </tr>
    <tr>
        <td class="derecha">Asientos</td>
        <td><strong>{{ tipodevehiculo.capacidad_nominal }}</strong></td>
    </tr>
    <tr>
        <td class="derecha">Capacidad</td>
        <td><strong>{{ tipodevehiculo.capacidad_real }}</strong></td>
    </tr>
    <tr>
        <td class="derecha">Rendimiento</td>
        <td><strong>{{ tipodevehiculo.rendimiento }}</strong></td>
    </tr>
    <tr>
        <td class="derecha">Gals/Tanque</td>
        <td><strong>{{ tipodevehiculo.galones_tanque }}</strong></td>
    </tr>
    <tr>
        <td class="derecha">Activo?</td>
        <td><strong>{{ tipodevehiculo.activo|yesno }}</strong></td>
    </tr>
{% endblock %}
{% block detalle %}
    <div class="form-group topcontainer">
        <form class="form">
            <div id="titulodetalle">Vehículos</div>
            <table data-role="table" id="table-list" data-mode="columntoggle"
                   class="table-stroke ui-shadow table-stripe  ui-responsive">
                <thead>
                <tr>
                    <th class="center">Vehículo</th>
                    <th></th>
                    <th data-priority="1" class="derecha">Placa</th>
                    <th data-priority="2" class="derecha">Creado</th>
                    <th data-priority="3" class="derecha">Actualizado</th>
                </tr>
                </thead>
                <tbody>
                {% for vehiculo in tipodevehiculo.vehiculos.all %}
                <tr>
                    <td data-search="{{ vehiculo.nombre }}">
                        <a title="Ver Vehículo {{ vehiculo.tipo.nombre }} {{ vehiculo.nombre }}"
                           href="{{ vehiculo.get_absolute_url }}">{{ vehiculo.tipo.nombre }} {{ vehiculo.nombre }}</a>
                    </td>
                    <td class="izquierda" width="1"><div class="ui-alt-icon ui-nodisc-icon mininav3r">
                        <a class="ui-btn ui-btn-inline ui-btn-c ui-icon-action ui-btn-icon-notext ui-btncito"
                           title="Ver {{ vehiculo.tipo.nombre }} {{ vehiculo.nombre }}"
                           href="{{ vehiculo.get_absolute_url }}">goto</a>{% if request.user.is_superuser %}
                        <a class="ui-btn ui-btn-inline ui-btn-c ui-icon-edit ui-btn-icon-notext ui-btncito"
                           title="Editar {{ vehiculo.tipo.nombre }} {{ vehiculo.nombre }}"
                           href="{{ vehiculo.get_update_url }}">edit</a>
                        <a class="ui-btn ui-btn-inline ui-btn-c ui-icon-delete ui-btn-icon-notext ui-btncito"
                           title="Eliminar {{ vehiculo.tipo.nombre }} {{ vehiculo.nombre }}"
                           href="{{ vehiculo.get_delete_url }}">delete</a>{% endif %}</div></td>
                        <td class="derecha">{{ vehiculo.placa }}</td>
                    <td class="derecha">{{ vehiculo.creado|date:"D d/b" }}</td>
                    <td class="derecha">{{ vehiculo.actualizado|date:"D d/b" }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </form>
    </div>
{% endblock %}
{% block footer %}{% if request.user.is_superuser %}
        <div class="fixed-action-btn">
            <a class="btn-floating btn-large waves-effect waves-light red darken-2"
               href="{{ tipodevehiculo.get_update_url }}"
               data-ajax="false" onclick="window.location.reload(false);">
                <i class="material-icons">edit</i></a>
        </div>{% endif %}{% endblock %}
